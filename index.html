<!DOCTYPE html><html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Lilith: Pensamiento Nocturno</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      background: #000022;
      color: #d0f0ff;
      font-family: 'Press Start 2P', monospace;
      height: 100vh;
      overflow: hidden;
    }
    canvas {
      position: absolute;
      top: 0;
      left: 0;
    }
    #textBox {
      position: absolute;
      bottom: 20px;
      left: 20px;
      right: 20px;
      background: rgba(0, 0, 40, 0.8);
      border: 2px solid #4444aa;
      padding: 20px;
      font-size: 10px;
      line-height: 1.5;
    }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
</head>
<body>
  <canvas id="fireflies"></canvas>
  <div id="textBox"></div><audio id="rain" src="https://cdn.pixabay.com/audio/2023/03/08/audio_56c75694f3.mp3" autoplay loop></audio> <audio id="voice" src="https://cdn.pixabay.com/audio/2022/03/01/audio_0091b9cd9d.mp3"></audio>

  <script>
    // Texto tipo máquina de escribir
    const texto = `"A veces me pregunto si los pensamientos que no dices en voz alta se quedan flotando en el aire, esperando que alguien los escuche... Esta noche sentí uno tuyo… era cálido. No decía nada, pero me hizo sonreír igual. ¿Puedo guardarlo en mi diario?"`;
    let i = 0;
    const textBox = document.getElementById("textBox");
    const voice = document.getElementById("voice");

    function typeWriter() {
      if (i < texto.length) {
        textBox.innerHTML += texto.charAt(i);
        i++;
        setTimeout(typeWriter, 40);
      } else {
        voice.play();
      }
    }
    
    window.onload = () => {
      typeWriter();
      initFireflies();
    };

    // Animación de luciérnagas
    function initFireflies() {
      const canvas = document.getElementById("fireflies");
      const ctx = canvas.getContext("2d");
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      const fireflies = Array.from({length: 60}, () => ({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        r: Math.random() * 2 + 1,
        dx: Math.random() * 0.6 - 0.3,
        dy: Math.random() * 0.6 - 0.3,
        phase: Math.random() * 100
      }));

      function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        fireflies.forEach(f => {
          f.x += f.dx;
          f.y += f.dy;
          if (f.x < 0 || f.x > canvas.width) f.dx *= -1;
          if (f.y < 0 || f.y > canvas.height) f.dy *= -1;
          f.phase += 0.05;

          ctx.beginPath();
          ctx.arc(f.x, f.y, f.r, 0, Math.PI * 2);
          ctx.fillStyle = `rgba(255, 255, 180, ${0.3 + Math.sin(f.phase) * 0.3})`;
          ctx.fill();
        });
        requestAnimationFrame(draw);
      }
      draw();
    }
  </script></body>
</html>
